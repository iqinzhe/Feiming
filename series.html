<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AX斧标贝斯 | 系列详情</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
  <link rel="manifest" href="/icons/manifest.json">
  <link href="css/main.css" rel="stylesheet"/>
  <!-- 添加字体图标 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    /* 详情页专属样式 */
    .series-detail { 
      max-width: 1200px; 
      margin: 0 auto; 
      padding: 20px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 30px;
    }
    
    .series-cover { 
      width: 100%;
      height: auto;
      object-fit: contain;
      max-height: 400px;
      border-radius: 12px; 
      margin-bottom: 20px; 
    }
    
    .models-list { 
      display: grid; 
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px; 
      margin-top: 30px; 
    }
    
    .model-card { 
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }
    
    .model-card img {
      width: 100%;
      height: auto;
      object-fit: contain;
      max-height: 200px;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    
    .error {
      color: #ff6b6b;
      text-align: center;
      padding: 40px;
    }
    
    /* 响应式设计 */
    @media (max-width: 768px) {
      .series-detail {
        padding: 15px;
        gap: 20px;
      }
      
      .series-cover {
        max-height: 300px;
      }
      
      .models-list {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .model-card img {
        max-height: 150px;
      }
    }
  </style>
</head>
<body class="ax-gradient-bg">
  <!-- 共用顶部导航（同index.html） -->
  <header class="top-bar">
    <div class="top-bar__row">
      <!-- 汉堡菜单按钮 -->
      <div class="menu__button" id="hamburger">☰</div>
      
      <!-- logo + 宣传语 -->
      <div class="top-bar__center">
        <img src="images/logo.png" alt="AX斧标贝斯 Logo" class="top-bar__logo">
        <p class="top-bar__slogan">每次拨弦都是心灵的飞舞共鸣！</p>
      </div>

      <!-- 分享按钮 -->
      <div class="top-bar__share" id="shareBtn">⫶</div>
    </div>

    <!-- 汉堡菜单展开内容 -->
    <nav class="menu" id="menu">
      <ul class="menu__list">
        <li class="menu__item"><a href="index.html" class="menu__link">首页</a></li>
        <li class="menu__item"><a href="products.html?series=d" class="menu__link">特色</a></li>
        <li class="menu__item"><a href="products.html" class="menu__link">产品</a></li>
        <li class="menu__item"><a href="support.html" class="menu__link">支持</a></li>
        <li class="menu__item"><a href="pricing.html" class="menu__link">订购</a></li>
      </ul>
    </nav>
  </header>

  <main class="series-detail" id="seriesDetail">
    <div class="loading">加载中...</div>
  </main>

  <!-- 底部栏 -->
  <footer class="site-footer" id="footerToTop">
    <span class="site-footer__label">返回顶部</span>
    <img alt="AX斧标贝斯 Logo" class="site-footer__logo" src="images/logo.png"/>
  </footer>
  
  <script src="/js/main.js"></script>
  <script>
    // 从URL获取系列ID（如 ?id=a）
    const seriesId = new URLSearchParams(window.location.search).get('id');
    
    if (!seriesId) {
      document.getElementById('seriesDetail').innerHTML = `
        <p class="error">未指定系列，<a href="index.html">返回首页</a></p>
      `;
    } else {
      // 加载对应系列的JSON数据
      fetch(`data/${seriesId}.json`)
        .then(response => response.json())
        .then(data => {
          const series = data.series[0];
          let modelsHTML = '';

          if (series.models) {
            modelsHTML = `
              <h2>包含型号</h2>
              <div class="models-list">
                ${series.models.map(model => `
                  <div class="model-card">
                    <h3>${model.name}</h3>
                    <img src="${model.image}" alt="${model.name}">
                    <p>${model.features}</p>
                    <a href="product-detail.html?series=${seriesId}&id=${model.id}" class="base-button">
                      <i class="fas fa-info-circle"></i> 查看详情
                    </a>
                  </div>
                `).join('')}
              </div>
            `;
          }

          document.getElementById('seriesDetail').innerHTML = `
            <h1>${series.name}</h1>
            <img src="${series.cover}" alt="${series.name}" class="series-cover">
            <p>${series.description.replace(/\n/g, '<br>')}</p>
            ${modelsHTML}
          `;
        })
        .catch(error => {
          console.error('加载详情失败:', error);
          document.getElementById('seriesDetail').innerHTML = `
            <p class="error">
              加载失败，请检查链接是否正确。<br>
              <a href="index.html">返回首页</a>
            </p>
          `;
        });
    }
  </script>
</body>
</html>