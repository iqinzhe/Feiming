<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AX斧标贝斯 | 首页</title>
  <link href="/css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="global.css">
</head>
<body>
<header class="site-topbar">
  <div class="topbar__center">
    <a href="index.html"><img class="topbar__logo" src="./images/logo.png" alt="AX Guitar Logo"/></a>
  </div>
</header>
<main>
  <section class="events-section">
    <div class="section-header">
        <h2>最新动态</h2>
        <a href="events.html" class="view-all">阅读更多 →</a>
    </div>
    <div id="latest-events" class="events-preview"></div>
  </section>
</main>
<footer class="site-bottombar">
  <div class="bottombar__label">返回顶部</div>
  <img class="bottombar__logo" src="images/logo.png" alt="AX Guitar Logo"/>
</footer>
<script src="events.js"></script>
<script>
function formatDate(dateStr) {
  const date = new Date(dateStr);
  return `${date.getFullYear()}年${date.getMonth() + 1}月${date.getDate()}日`;
}
function truncateText(text, maxLength = 80) {
  return text.length > maxLength ? text.substring(0, maxLength) + "..." : text;
}
function renderLatestEvents() {
  const container = document.getElementById("latest-events");
  container.innerHTML = "";
  const latest = [...events].sort((a,b)=> new Date(b.date)-new Date(a.date)).slice(0,2);
  latest.forEach(ev => {
    const item = `
      <div class="news-item">
        <div class="news-date">${formatDate(ev.date)}</div>
        <h3>${ev.title}</h3>
        <p>${truncateText(ev.description)}</p>
        <a href="events.html" class="read-more">阅读更多 →</a>
      </div>
    `;
    container.innerHTML += item;
  });
}
renderLatestEvents();
</script>
</body>
</html>
