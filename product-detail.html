<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- 头部元信息保持不变 -->
</head>
<body>
  <!-- 统一标准的顶部导航栏 -->
  <header class="site-topbar">
    <!-- 与之前完全一致 -->
  </header>

  <main>
    <!-- 修复重点：完整的静态结构 + 动态填充 -->
    <div class="product-hero">
      <img id="productImage" src="" alt="产品图" style="max-width:100%">
      <h1 id="productName">产品名称</h1>
      <p id="productFeatures">产品特性描述</p>
    </div>

    <!-- 修复点：补全规格参数静态结构 -->
    <div class="product-specs">
      <h3>规格参数</h3>
      <ul id="productSpecs">
        <!-- 动态生成内容将在这里插入 -->
        <li>默认规格1</li>
        <li>默认规格2</li>
      </ul>
    </div>

    <div class="product-actions">
      <a class="order-button" href="pricing.html">立即订购</a>
      <a id="backLink" href="#" class="back-link">← 返回系列</a>
    </div>
  </main>

  <footer class="site-bottombar" id="footerToTop">
    <!-- 底部保持不变 -->
  </footer>

  <script>
    // 增强版数据加载
    document.addEventListener('DOMContentLoaded', () => {
      const urlParams = new URLSearchParams(window.location.search);
      const seriesId = urlParams.get('series');
      const productId = urlParams.get('id');

      if (seriesId && productId) {
        fetch(`data/${seriesId}.json`)
          .then(res => res.json())
          .then(data => {
            const product = data.series[0].models.find(m => m.id === productId);
            if (product) {
              // 填充产品信息
              document.getElementById('productImage').src = product.image;
              document.getElementById('productName').textContent = product.name;
              document.getElementById('productFeatures').textContent = product.features;
              
              // 修复重点：完整生成规格列表
              const specsList = document.getElementById('productSpecs');
              specsList.innerHTML = product.specs.map(spec => 
                `<li>${spec}</li>`
              ).join('');

              // 设置返回链接
              document.getElementById('backLink').href = `products.html?series=${seriesId}`;
            }
          })
          .catch(err => {
            console.error('加载失败:', err);
            document.getElementById('productSpecs').innerHTML = 
              '<li style="color:#ff6b6b">加载规格参数失败</li>';
          });
      }
    });
  </script>
</body>
</html>